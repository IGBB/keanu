<!DOCTYPE html><!-- saved from url=(0040)http://bl.ocks.org/mbostock/raw/4339083/ --><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta charset="UTF-8"><meta content="utf-8" http-equiv="encoding"><style>.node {  cursor: pointer;}.node circle {  fill: #fff;  stroke: steelblue;  stroke-width: 1.5px;}.node text {  font: 10px sans-serif;}.link {  fill: none;  stroke: #ccc;  stroke-width: 1.5px;}</style><title></title></head><body><script src="https://d3js.org/d3.v3.min.js"></script><script>var margin = {top: 20, right: 120, bottom: 20, left: 120},    width = 1920 - margin.right - margin.left,    height = 1080 - margin.top - margin.bottom;var i = 0,    duration = 750,    root;var tree = d3.layout.tree()    .size([height, width]);var diagonal = d3.svg.diagonal()    .projection(function(d) { return [d.y, d.x]; });var svg = d3.select("body").append("svg")    .attr("width", width + margin.right + margin.left)    .attr("height", height + margin.top + margin.bottom)  .append("g")    .attr("transform", "translate(" + margin.left + "," + margin.top + ")");root=JSON.parse('{"name": "root (3)", "size": "3", "children": [{"name": "Eukaryota (3)", "size": "3", "children": [{"name": "Metazoa (3)", "size": "3", "children": [{"name": "Chordata (3)", "size": "3", "children": [{"name": "Mammalia (3)", "size": "3", "children": [{"name": "Carnivora (1)", "size": "1", "children": [{"name": "Feliformia (1)", "size": "1", "children": [{"name": "Felidae (1)", "size": "1", "children": [{"name": "Felis (1)", "size": "1", "children": [{"name": "Felis catus (1)", "size": "1"}]}]}]}]},{"name": "Primates (2)", "size": "2", "children": [{"name": "Haplorrhini (2)", "size": "2", "children": [{"name": "Cercopithecidae (1)", "size": "1", "children": [{"name": "Allochrocebus (1)", "size": "1", "children": [{"name": "Allochrocebus solatus (1)", "size": "1"}]}]},{"name": "Hominidae (1)", "size": "1", "children": [{"name": "Homo (1)", "size": "1", "children": [{"name": "Homo sapiens (1)", "size": "1"}]}]}]}]}]}]}]}]}]}');  root.x0 = height / 2;  root.y0 = 0;  var max = root.size; function collapse(d) {    if (d.children) {      d._children = d.children;      d._children.forEach(collapse);      d.children = null;    }  }  root.children.forEach(collapse);  update(root);d3.select(self.frameElement).style("height", "800px");function update(source) {  var nodes = tree.nodes(root).reverse(),      links = tree.links(nodes);  nodes.forEach(function(d) { d.y = d.depth *180 });  var node = svg.selectAll("g.node")      .data(nodes, function(d) { return d.id || (d.id = ++i); });  var nodeEnter = node.enter().append("g")      .attr("class", "node")      .attr("transform", function(d) { return "translate(" + source.y0+ "," + source.x0 + ")"; })      .on("click", click);  nodeEnter.append("circle")      .attr("r", 1e-6)      .style("fill", function(d) { return d._children ? "lightsteelblue" : "#fff"; });  nodeEnter.append("text")      .attr("x", function(d) { return d.children || d._children ? -10 - (d.size / max * 10) : 10 + (d.size / max * 10)})      .attr("dy", ".35em")      .attr("text-anchor", function(d) { return d.children || d._children ? "end" : "start"; })      .text(function(d) { return d.name; })      .style("fill-opacity", 1e-6);  var nodeUpdate = node.transition()      .duration(duration)      .attr("transform", function(d) { return "translate(" +d.y + "," + d.x + ")"; });  nodeUpdate.select("circle")      .attr("r", function(d) { return d.size / max * 10; })      .style("fill", function(d) { return d._children ? "lightsteelblue" : "#fff"; });  nodeUpdate.select("text")      .style("fill-opacity", 1);  var nodeExit = node.exit().transition()      .duration(duration)      .attr("transform", function(d) { return "translate(" + source.y + "," + source.x + ")"; })      .remove();  nodeExit.select("circle")      .attr("r", 1e-6);  nodeExit.select("text")      .style("fill-opacity", 1e-6);  var link = svg.selectAll("path.link")      .data(links, function(d) { return d.target.id; });  link.enter().insert("path", "g")      .attr("class", "link")      .attr("d", function(d) {        var o = {x: source.x0, y: source.y0};        return diagonal({source: o, target: o});      });  link.transition()      .duration(duration)      .attr("d", diagonal);  link.exit().transition()      .duration(duration)      .attr("d", function(d) {        var o = {x: source.x, y: source.y};        return diagonal({source: o, target: o});      })      .remove();  nodes.forEach(function(d) {    d.x0 = d.x;    d.y0 = d.y;  });}function click(d) {  if (d.children) {    d._children = d.children;    d.children = null;  } else {    d.children = d._children;    d._children = null;  }  update(d);}</script></body></html>
